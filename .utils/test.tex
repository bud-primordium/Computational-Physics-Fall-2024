\documentclass[11pt]{article}


% 页面设置
\usepackage[top=1cm, bottom=2cm, left=1cm, right=1cm]{geometry}

% 中文支持
\usepackage{ctex}

% 数学包
\usepackage{amsmath, amssymb, amsthm}

% 算法包
\usepackage[linesnumbered, ruled]{algorithm2e}

\begin{document}

\title{伪代码test}
\author{test}
\maketitle

\begin{algorithm}[H]
    \caption{Main Routine for Gaussian Elimination Solver}
    \label{alg:main_routine}
    \KwIn{Input File Path (string), \texttt{tol} (long double), \texttt{max\_iter} (int)}
    \KwOut{Solutions (array)}
    
    \While{True}{
        \texttt{selected\_file} $\gets$ \textit{SelectInputFile}() \tcp*[r]{Select the input file}
        \If{\texttt{selected\_file} is empty}{
            \textbf{exit} \tcp*[r]{Exit if no file is selected}
        }

        \texttt{start\_time} $\gets$ \textit{StartTimer}() \tcp*[r]{Start the timer}
        
        \textit{InitMatrix}(\texttt{matrix}, \texttt{selected\_file}, \texttt{rows}, \texttt{cols}) \tcp*[r]{Initialize the matrix}
        \textit{ShowEquations}(\texttt{matrix}, \texttt{rows}, \texttt{cols}) \tcp*[r]{Display the system of equations}

        \texttt{exchange\_count} $\gets$ \textit{GaussianElimination}(\texttt{matrix}, \texttt{rows}, \texttt{cols}) \tcp*[r]{Perform Gaussian elimination}
        
        \texttt{rank} $\gets$ \textit{DetermineRank}(\texttt{matrix}, \texttt{rows}, \texttt{cols}) \tcp*[r]{Determine the rank of the matrix}
        \texttt{consistent} $\gets$ \textit{CheckConsistency}(\texttt{matrix}, \texttt{rows}, \texttt{cols}) \tcp*[r]{Check if the system is consistent}

        \If{not \texttt{consistent}}{
            \textit{DisplaySolution}("No solution") \tcp*[r]{Display no solution message}
        }
        \ElseIf{\texttt{rank} $<$ (\texttt{cols} $-$ 1)}{
            \textit{ShowGeneralSolution}(\texttt{matrix}, \texttt{rows}, \texttt{cols}, \texttt{rank}) \tcp*[r]{Display parameterized solution}
        }
        \Else{
            \texttt{solution} $\gets$ \textit{BackSubstitution}(\texttt{matrix}, \texttt{rows}, \texttt{cols}, \texttt{solution}) \tcp*[r]{Perform back substitution}
            \If{\texttt{solvable}}{
                \textit{DisplaySolution}(\texttt{solution}) \tcp*[r]{Display the unique solution}
            }
            \Else{
                \textit{DisplaySolution}("No solution") \tcp*[r]{Display no solution if back substitution fails}
            }
        }

        \textit{StopTimer}(\texttt{start\_time}) \tcp*[r]{Stop the timer}
        \texttt{choice} $\gets$ \textit{AskRunAgain}() \tcp*[r]{Ask if the user wants to run again}
        \If{\texttt{choice} $\neq$ 'y' \textbf{and} \texttt{choice} $\neq$ 'Y'}{
            \textbf{break} \tcp*[r]{Exit loop if the choice is not 'y' or 'Y'}
        }
    }

    \textit{WaitForExit}() \tcp*[r]{Wait for program exit}
\end{algorithm}



\begin{algorithm}[H]
    \caption{Pivoting to Select the Maximum Element in a Column}
    \label{alg:pivoting}
    \KwIn{$\texttt{matrix}$ (Matrix), $\texttt{current\_row}$ (int), $\texttt{total\_rows}$ (int)}
    \KwOut{$\texttt{imax}$ (int)}
    
    \texttt{imax} $\gets$ \texttt{current\_row}\;
    \texttt{max\_val} $\gets$ $|\texttt{matrix}[\texttt{current\_row}][\texttt{current\_row}]|$\;
    \For{$i \gets \texttt{current\_row} + 1$ \textbf{to} $\texttt{total\_rows} - 1$}{
        \texttt{val} $\gets$ $|\texttt{matrix}[i][\texttt{current\_row}]|$\;
        \If{\texttt{val} $>$ \texttt{max\_val}}{
            \texttt{imax} $\gets$ $i$\;
            \texttt{max\_val} $\gets$ \texttt{val}\;
        }
    }
    \Return \texttt{imax}\;
\end{algorithm}




\end{document}